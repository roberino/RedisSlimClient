language: csharp
dist: xenial
services: docker
sudo: required
mono: none
dotnet: 2.2.105
before_install:
  - docker-compose up -d
  - sleep 15
script:
  - dotnet restore RedisSlimClient.sln
  - dotnet build RedisSlimClient.sln
  - dotnet test tests/RedisSlimClient.Tests/RedisSlimClient.UnitTests.csproj --filter TestCategory!=BuildOmit
  - dotnet test tests/RedisSlimClient.IntegrationTests/RedisSlimClient.IntegrationTests.csproj --filter TestCategory!=BuildOmit --verbosity n 
after_script:
  - docker-compose down